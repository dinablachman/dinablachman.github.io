<section class="project-item">
    <div class="project-content-wrapper">
      <div class="project-text">
        <h2 class="project-title">
          {% if include.project.detail %}
            <a href="{{ include.project.url | relative_url }}">{{ include.project.title }}</a>
          {% else %}
            <span class="linklike">{{ include.project.title }}</span>
          {% endif %}
        </h2>
      
        {% if include.project.subtitle %}
          <p><em>{{ include.project.subtitle }}</em></p>
        {% endif %}
      
        <p class="project-links">
          {% if include.project.live_url %}<a href="{{ include.project.live_url }}">live</a>{% endif %}
          {% if include.project.repo_url %}{% if include.project.live_url %} · {% endif %}<a href="{{ include.project.repo_url }}">repo</a>{% endif %}
        </p>
      
        {% if include.project.stack %}
          <p><strong>stack:</strong> {{ include.project.stack | join: ', ' }}</p>
        {% endif %}
      
        {%- assign teaser_raw = include.project.excerpt | default: include.project.content -%}
        {%- assign teaser = teaser_raw | strip_html | strip_newlines -%}
        {% if teaser != "" %}
          <p class="project-teaser">
            {{ teaser | truncate: 260 }}
            {% if include.project.detail %}
              <span class="read-more"> <a href="{{ include.project.url | relative_url }}">read more →</a></span>
            {% endif %}
          </p>
        {% endif %}
      
        {% if include.project.tags %}
          <p><small>tags: {{ include.project.tags | join: ', ' }}</small></p>
        {% endif %}
      </div>
      
      {% if include.project.gif %}
        <div class="project-media">
          <img src="{{ include.project.gif | relative_url }}" alt="{{ include.project.title }} preview" class="project-gif">
        </div>
      {% elsif include.project.demo_url %}
        <div class="project-media">
          {% if include.project.demo_url contains 'youtu' %}
            <div class="project-video" style="aspect-ratio:16/9">
              <iframe
                src="{{ include.project.demo_url | replace: 'watch?v=', 'embed/' | replace: 'youtu.be/', 'www.youtube.com/embed/' }}"
                title="demo" allowfullscreen style="width:100%;height:100%;border:0"></iframe>
            </div>
          {% else %}
            <video src="{{ include.project.demo_url | relative_url }}" controls {% if include.project.poster %}poster="{{ include.project.poster | relative_url }}"{% endif %} class="project-video"></video>
          {% endif %}
        </div>
      {% endif %}
    </div>
  </section>
  